{"ast":null,"code":"var _jsxFileName = \"/home/vinicius/Documentos/entrevista/desafio-connecta/src/pages/Signin/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport { AuthContext } from '../../context/AuthContext';\nimport EmailIcon from '@material-ui/icons/Email';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport welcome from '../../assets/imagens/welcome.jpeg';\nimport { Button, CssBaseline, TextField, Typography, Container, makeStyles, InputAdornment, IconButton, Grid, Link } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignIn = () => {\n  _s();\n\n  const {\n    signIn,\n    email\n  } = useContext(AuthContext);\n  const classes = useStyles();\n  const [show, setShow] = useState(false);\n  /*const logged = isLogged()\n  \n  const { email, time, token } = useParams()\n  const { user } = useContext(AuthContext)\n   const {\n      signIn,\n      loadingAuth,\n      warningModal,\n      handleCloseWarningModal,\n      message\n  } = useContext(AuthContext)\n  const [forgotPassword, setForgotPassword] = useState(false)\n  const [recovery, setRecovery] = useState(false)\n  const [snackMessage, setSnackMessage] = useState('')\n  const [snack, setSnack] = useState(false)\n  const [snackColor, setSnackColor] = useState('')\n  const [show, setShow] = useState(false)\n  const [loading, setLoading] = useState(false)\n   const handleOpenForgotPassword = () => setForgotPassword(true)\n  const handleCloseForgotPassword = () => setForgotPassword(false)\n  const handleOpenRecovery = () => setRecovery(true)\n  const handleCloseRecovery = () => setRecovery(false)\n  const handleOpenSnack = () => setSnack(true)\n  const handleCloseSnack = () => setSnack(false)\n   useEffect(() => {\n      if (email && time && token) {\n          validateLink()\n      }\n  }, [])\n   const sendEmail = async (email) => {\n      setLoading(true)\n      const response = await api.sendEmailRecovery(email)\n      if (response?.status === 200) {\n          setSnackColor('#070')\n          setSnackMessage('Verifique seu e-mail e siga as instruções para recuperar sua senha.')\n          handleOpenSnack()\n          handleCloseForgotPassword()\n          setLoading(false)\n      } else {\n          setSnackColor('#da1e37')\n          setSnackMessage('E-mail não localizado!')\n          handleOpenSnack()\n          setLoading(false)\n      }\n   }\n   const validateLink = async () => {\n      const response = await api.validateLink(email, time, token)\n      if (response?.status === 200) {\n          handleOpenRecovery()\n      } else {\n          setSnackColor('#da1e37')\n          setSnackMessage('Link de redefinição de senha inválido ou expirado!')\n          handleOpenSnack()\n      }\n  }\n   const changePassword = async (password) => {\n      setLoading(true)\n      const response = await api.setNewPassword(email, time, token, password)\n      if (response?.status === 200) {\n          setSnackColor('#070')\n          setSnackMessage('Nova senha salva com sucesso!')\n          handleOpenSnack()\n          handleCloseRecovery()\n          setLoading(false)\n      } else {\n          setSnackColor('#da1e37')\n          setSnackMessage('Link de redefinição de senha inválido ou expirado!')\n          handleOpenSnack()\n          setLoading(false)\n          handleCloseRecovery()\n      }\n  }*/\n\n  const initialFormState = {\n    email: '',\n    password: ''\n  };\n  const validationSchema = yup.object().shape({\n    email: yup.string().email('Entre com um e-mail válido!').required('O e-mail é obrigatório!'),\n    password: yup.string('Entre com sua senha').required('A senha é obrigatória!')\n  });\n  const formik = useFormik({\n    initialValues: initialFormState,\n    validationSchema: validationSchema,\n    onSubmit: values => {\n      if (values.email.length === 0 || values.password.length === 0) {\n        console.log('aqui1');\n        return;\n      } else if (values.email == 'desafio@connecta.com' && values.password == '123') {\n        console.log('aqui2');\n        localStorage.setItem('email', email);\n        setEmail(email);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.logo,\n          src: welcome,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          className: classes.title,\n          children: \"REALIZE SEU LOGIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: classes.form,\n          noValidate: true,\n          onSubmit: formik.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"outlined\",\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"E-mail\",\n            name: \"email\",\n            autoComplete: \"email\",\n            autoFocus: true,\n            value: formik.values.email,\n            onChange: formik.handleChange,\n            error: formik.touched.email && Boolean(formik.errors.email),\n            helperText: formik.touched.email && formik.errors.email,\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"default\",\n                  children: /*#__PURE__*/_jsxDEV(EmailIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"password\",\n            name: \"password\",\n            label: \"Senha\",\n            variant: \"outlined\",\n            fullWidth: true,\n            required: true,\n            type: show ? 'text' : 'password',\n            value: formik.values.password,\n            onChange: formik.handleChange,\n            autoComplete: \"current-password\",\n            error: formik.touched.password && Boolean(formik.errors.password),\n            helperText: formik.touched.password && formik.errors.password,\n            InputProps: {\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"default\",\n                  onClick: () => setShow(!show),\n                  children: show ? /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 57\n                  }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 74\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            className: classes.submit,\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignIn, \"pEwRFKg6XgTvifVHT89AzfzXzPY=\", false, function () {\n  return [useStyles, useFormik];\n});\n\n_c = SignIn;\nexport default SignIn;\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: '#070',\n    '&:hover': {\n      background: '#005200'\n    }\n  },\n  logo: {\n    width: 300,\n    marginTop: '20%'\n  },\n  title: {\n    flexGrow: 1,\n    textTransform: 'capitalize',\n    marginTop: '10%'\n  },\n  link: {\n    fontSize: 20\n  }\n}));\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/home/vinicius/Documentos/entrevista/desafio-connecta/src/pages/Signin/index.js"],"names":["React","useState","useContext","useFormik","yup","AuthContext","EmailIcon","Visibility","VisibilityOff","welcome","Button","CssBaseline","TextField","Typography","Container","makeStyles","InputAdornment","IconButton","Grid","Link","SignIn","signIn","email","classes","useStyles","show","setShow","initialFormState","password","validationSchema","object","shape","string","required","formik","initialValues","onSubmit","values","length","console","log","localStorage","setItem","setEmail","paper","logo","title","form","handleSubmit","handleChange","touched","Boolean","errors","endAdornment","submit","theme","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","width","background","flexGrow","textTransform","link","fontSize"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,SAAQC,WAAR,QAA0B,2BAA1B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AAEA,OAAOC,OAAP,MAAoB,mCAApB;AAEA,SACIC,MADJ,EACYC,WADZ,EACyBC,SADzB,EACoCC,UADpC,EAEIC,SAFJ,EAEeC,UAFf,EAE2BC,cAF3B,EAE2CC,UAF3C,EAEuDC,IAFvD,EAGIC,IAHJ,QAIO,mBAJP;;;AAOA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEjB,QAAM;AACFC,IAAAA,MADE;AACMC,IAAAA;AADN,MAEFpB,UAAU,CAACG,WAAD,CAFd;AAIA,QAAMkB,OAAO,GAAGC,SAAS,EAAzB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBzB,QAAQ,CAAC,KAAD,CAAhC;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AASI,QAAM0B,gBAAgB,GAAG;AACrBL,IAAAA,KAAK,EAAE,EADc;AAErBM,IAAAA,QAAQ,EAAE;AAFW,GAAzB;AAKA,QAAMC,gBAAgB,GAAGzB,GAAG,CAAC0B,MAAJ,GAAaC,KAAb,CAAmB;AACxCT,IAAAA,KAAK,EAAElB,GAAG,CAAC4B,MAAJ,GAAaV,KAAb,CAAmB,6BAAnB,EAAkDW,QAAlD,CAA2D,yBAA3D,CADiC;AAExCL,IAAAA,QAAQ,EAAExB,GAAG,CAAC4B,MAAJ,CAAW,qBAAX,EAAkCC,QAAlC,CAA2C,wBAA3C;AAF8B,GAAnB,CAAzB;AAKA,QAAMC,MAAM,GAAG/B,SAAS,CAAC;AACrBgC,IAAAA,aAAa,EAAER,gBADM;AAErBE,IAAAA,gBAAgB,EAAEA,gBAFG;AAGrBO,IAAAA,QAAQ,EAAGC,MAAD,IAAY;AAClB,UAAGA,MAAM,CAACf,KAAP,CAAagB,MAAb,KAAwB,CAAxB,IAA6BD,MAAM,CAACT,QAAP,CAAgBU,MAAhB,KAA2B,CAA3D,EAA8D;AAC1DC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA;AACH,OAHD,MAGO,IAAGH,MAAM,CAACf,KAAP,IAAgB,sBAAhB,IAA0Ce,MAAM,CAACT,QAAP,IAAmB,KAAhE,EAAsE;AACzEW,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BpB,KAA9B;AACAqB,QAAAA,QAAQ,CAACrB,KAAD,CAAR;AACH;AACJ;AAZoB,GAAD,CAAxB;AAeA,sBACI,QAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA,4BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAEC,OAAO,CAACqB,KAAxB;AAAA,6BAcQ;AAAA,gCACI;AAAK,UAAA,SAAS,EAAErB,OAAO,CAACsB,IAAxB;AAA8B,UAAA,GAAG,EAAEpC,OAAnC;AAA4C,UAAA,GAAG,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,UAAD;AAAY,UAAA,SAAS,EAAC,IAAtB;AAA2B,UAAA,OAAO,EAAC,IAAnC;AAAwC,UAAA,SAAS,EAAEc,OAAO,CAACuB,KAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAKI;AAAM,UAAA,SAAS,EAAEvB,OAAO,CAACwB,IAAzB;AAA+B,UAAA,UAAU,MAAzC;AAA0C,UAAA,QAAQ,EAAEb,MAAM,CAACc,YAA3D;AAAA,kCACI,QAAC,SAAD;AACI,YAAA,OAAO,EAAC,UADZ;AAEI,YAAA,MAAM,EAAC,QAFX;AAGI,YAAA,QAAQ,MAHZ;AAII,YAAA,SAAS,MAJb;AAKI,YAAA,EAAE,EAAC,OALP;AAMI,YAAA,KAAK,EAAC,QANV;AAOI,YAAA,IAAI,EAAC,OAPT;AAQI,YAAA,YAAY,EAAC,OARjB;AASI,YAAA,SAAS,MATb;AAUI,YAAA,KAAK,EAAEd,MAAM,CAACG,MAAP,CAAcf,KAVzB;AAWI,YAAA,QAAQ,EAAEY,MAAM,CAACe,YAXrB;AAYI,YAAA,KAAK,EAAEf,MAAM,CAACgB,OAAP,CAAe5B,KAAf,IAAwB6B,OAAO,CAACjB,MAAM,CAACkB,MAAP,CAAc9B,KAAf,CAZ1C;AAaI,YAAA,UAAU,EAAEY,MAAM,CAACgB,OAAP,CAAe5B,KAAf,IAAwBY,MAAM,CAACkB,MAAP,CAAc9B,KAbtD;AAcI,YAAA,UAAU,EAAE;AACR+B,cAAAA,YAAY,eACR,QAAC,cAAD;AAAgB,gBAAA,QAAQ,EAAC,KAAzB;AAAA,uCACI,QAAC,UAAD;AAAY,kBAAA,KAAK,EAAC,SAAlB;AAAA,yCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAFI;AAdhB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAyBI,QAAC,SAAD;AACI,YAAA,EAAE,EAAC,UADP;AAEI,YAAA,IAAI,EAAC,UAFT;AAGI,YAAA,KAAK,EAAC,OAHV;AAII,YAAA,OAAO,EAAC,UAJZ;AAKI,YAAA,SAAS,MALb;AAMI,YAAA,QAAQ,MANZ;AAOI,YAAA,IAAI,EAAE5B,IAAI,GAAG,MAAH,GAAY,UAP1B;AAQI,YAAA,KAAK,EAAES,MAAM,CAACG,MAAP,CAAcT,QARzB;AASI,YAAA,QAAQ,EAAEM,MAAM,CAACe,YATrB;AAUI,YAAA,YAAY,EAAC,kBAVjB;AAWI,YAAA,KAAK,EAAEf,MAAM,CAACgB,OAAP,CAAetB,QAAf,IAA2BuB,OAAO,CAACjB,MAAM,CAACkB,MAAP,CAAcxB,QAAf,CAX7C;AAYI,YAAA,UAAU,EAAEM,MAAM,CAACgB,OAAP,CAAetB,QAAf,IAA2BM,MAAM,CAACkB,MAAP,CAAcxB,QAZzD;AAaI,YAAA,UAAU,EAAE;AACRyB,cAAAA,YAAY,eACR,QAAC,cAAD;AAAgB,gBAAA,QAAQ,EAAC,KAAzB;AAAA,uCACI,QAAC,UAAD;AACI,kBAAA,KAAK,EAAC,SADV;AAEI,kBAAA,OAAO,EAAE,MAAM3B,OAAO,CAAC,CAACD,IAAF,CAF1B;AAAA,4BAIKA,IAAI,gBAAG,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,0BAAH,gBAAoB,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAJ7B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAFI;AAbhB;AAAA;AAAA;AAAA;AAAA,kBAzBJ,eAoDI,QAAC,MAAD;AACI,YAAA,IAAI,EAAC,QADT;AAEI,YAAA,SAAS,MAFb;AAGI,YAAA,OAAO,EAAC,WAHZ;AAII,YAAA,KAAK,EAAC,SAJV;AAKI,YAAA,SAAS,EAAEF,OAAO,CAAC+B,MALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApDJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAdR;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0FH,CA5MD;;GAAMlC,M;UAMcI,S,EA6FDrB,S;;;KAnGbiB,M;AA8MN,eAAeA,MAAf;AAEA,MAAMI,SAAS,GAAGT,UAAU,CAAEwC,KAAD,KAAY;AACrCX,EAAAA,KAAK,EAAE;AACHY,IAAAA,SAAS,EAAED,KAAK,CAACE,OAAN,CAAc,CAAd,CADR;AAEHC,IAAAA,OAAO,EAAE,MAFN;AAGHC,IAAAA,aAAa,EAAE,QAHZ;AAIHC,IAAAA,UAAU,EAAE;AAJT,GAD8B;AAOrCC,EAAAA,MAAM,EAAE;AACJC,IAAAA,MAAM,EAAEP,KAAK,CAACE,OAAN,CAAc,CAAd,CADJ;AAEJM,IAAAA,eAAe,EAAER,KAAK,CAACS,OAAN,CAAcC,SAAd,CAAwBC;AAFrC,GAP6B;AAWrCnB,EAAAA,IAAI,EAAE;AACFoB,IAAAA,KAAK,EAAE,MADL;AAEFX,IAAAA,SAAS,EAAED,KAAK,CAACE,OAAN,CAAc,CAAd;AAFT,GAX+B;AAerCH,EAAAA,MAAM,EAAE;AACJQ,IAAAA,MAAM,EAAEP,KAAK,CAACE,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,CADJ;AAEJM,IAAAA,eAAe,EAAE,MAFb;AAIJ,eAAW;AACPK,MAAAA,UAAU,EAAE;AADL;AAJP,GAf6B;AAuBrCvB,EAAAA,IAAI,EAAE;AACFsB,IAAAA,KAAK,EAAE,GADL;AAEFX,IAAAA,SAAS,EAAE;AAFT,GAvB+B;AA2BrCV,EAAAA,KAAK,EAAE;AACHuB,IAAAA,QAAQ,EAAE,CADP;AAEHC,IAAAA,aAAa,EAAE,YAFZ;AAGHd,IAAAA,SAAS,EAAE;AAHR,GA3B8B;AAgCrCe,EAAAA,IAAI,EAAE;AACFC,IAAAA,QAAQ,EAAE;AADR;AAhC+B,CAAZ,CAAD,CAA5B","sourcesContent":["import React, { useState, useContext} from 'react'\nimport { useFormik } from 'formik'\nimport * as yup from 'yup'\n\nimport {AuthContext} from '../../context/AuthContext'\nimport EmailIcon from '@material-ui/icons/Email'\nimport Visibility from '@material-ui/icons/Visibility'\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\n\nimport welcome from '../../assets/imagens/welcome.jpeg'\n\nimport {\n    Button, CssBaseline, TextField, Typography,\n    Container, makeStyles, InputAdornment, IconButton, Grid,\n    Link\n} from '@material-ui/core'\n\n\nconst SignIn = () => {\n\n    const {\n        signIn, email\n    } = useContext(AuthContext)\n\n    const classes = useStyles()\n    const [show, setShow] = useState(false)\n\n    /*const logged = isLogged()\n    \n    const { email, time, token } = useParams()\n    const { user } = useContext(AuthContext)\n\n    const {\n        signIn,\n        loadingAuth,\n        warningModal,\n        handleCloseWarningModal,\n        message\n    } = useContext(AuthContext)\n    const [forgotPassword, setForgotPassword] = useState(false)\n    const [recovery, setRecovery] = useState(false)\n    const [snackMessage, setSnackMessage] = useState('')\n    const [snack, setSnack] = useState(false)\n    const [snackColor, setSnackColor] = useState('')\n    const [show, setShow] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n    const handleOpenForgotPassword = () => setForgotPassword(true)\n    const handleCloseForgotPassword = () => setForgotPassword(false)\n    const handleOpenRecovery = () => setRecovery(true)\n    const handleCloseRecovery = () => setRecovery(false)\n    const handleOpenSnack = () => setSnack(true)\n    const handleCloseSnack = () => setSnack(false)\n\n    useEffect(() => {\n        if (email && time && token) {\n            validateLink()\n        }\n    }, [])\n\n    const sendEmail = async (email) => {\n        setLoading(true)\n        const response = await api.sendEmailRecovery(email)\n        if (response?.status === 200) {\n            setSnackColor('#070')\n            setSnackMessage('Verifique seu e-mail e siga as instruções para recuperar sua senha.')\n            handleOpenSnack()\n            handleCloseForgotPassword()\n            setLoading(false)\n        } else {\n            setSnackColor('#da1e37')\n            setSnackMessage('E-mail não localizado!')\n            handleOpenSnack()\n            setLoading(false)\n        }\n\n    }\n\n    const validateLink = async () => {\n        const response = await api.validateLink(email, time, token)\n        if (response?.status === 200) {\n            handleOpenRecovery()\n        } else {\n            setSnackColor('#da1e37')\n            setSnackMessage('Link de redefinição de senha inválido ou expirado!')\n            handleOpenSnack()\n        }\n    }\n\n    const changePassword = async (password) => {\n        setLoading(true)\n        const response = await api.setNewPassword(email, time, token, password)\n        if (response?.status === 200) {\n            setSnackColor('#070')\n            setSnackMessage('Nova senha salva com sucesso!')\n            handleOpenSnack()\n            handleCloseRecovery()\n            setLoading(false)\n        } else {\n            setSnackColor('#da1e37')\n            setSnackMessage('Link de redefinição de senha inválido ou expirado!')\n            handleOpenSnack()\n            setLoading(false)\n            handleCloseRecovery()\n        }\n    }*/\n\n    const initialFormState = {\n        email: '',\n        password: ''\n    }\n\n    const validationSchema = yup.object().shape({\n        email: yup.string().email('Entre com um e-mail válido!').required('O e-mail é obrigatório!'),\n        password: yup.string('Entre com sua senha').required('A senha é obrigatória!'),\n    })\n\n    const formik = useFormik({\n        initialValues: initialFormState,\n        validationSchema: validationSchema,\n        onSubmit: (values) => {\n            if(values.email.length === 0 || values.password.length === 0) {\n                console.log('aqui1')\n                return\n            } else if(values.email == 'desafio@connecta.com' && values.password == '123'){\n                console.log('aqui2')\n                localStorage.setItem('email', email)\n                setEmail(email)\n            }\n        }\n    })\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className={classes.paper}>\n                {/*email &&\n                    <div>\n                        <p>Olá Mundo - {email}</p>\n                        <img className={classes.logo} src={welcome} alt='' />\n                        <p align=\"center\">\n                            Conectado como:\n                            <h2 className={classes.title}>\n                                {email}\n                            </h2>\n                        </p>\n                    </div>\n                }\n            {!!email &&*/}\n                    <div>\n                        <img className={classes.logo} src={welcome} alt='' />\n                        <Typography component=\"h1\" variant=\"h5\" className={classes.title}>\n                            REALIZE SEU LOGIN\n                        </Typography> \n                        <form className={classes.form} noValidate onSubmit={formik.handleSubmit}>\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                fullWidth\n                                id=\"email\"\n                                label=\"E-mail\"\n                                name=\"email\"\n                                autoComplete=\"email\"\n                                autoFocus\n                                value={formik.values.email}\n                                onChange={formik.handleChange}\n                                error={formik.touched.email && Boolean(formik.errors.email)}\n                                helperText={formik.touched.email && formik.errors.email}\n                                InputProps={{\n                                    endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <IconButton color='default'>\n                                                <EmailIcon />\n                                            </IconButton>\n                                        </InputAdornment>\n                                    )\n                                }}\n                            />\n                            <TextField\n                                id=\"password\"\n                                name=\"password\"\n                                label=\"Senha\"\n                                variant='outlined'\n                                fullWidth\n                                required\n                                type={show ? 'text' : 'password'}\n                                value={formik.values.password}\n                                onChange={formik.handleChange}\n                                autoComplete=\"current-password\"\n                                error={formik.touched.password && Boolean(formik.errors.password)}\n                                helperText={formik.touched.password && formik.errors.password}\n                                InputProps={{\n                                    endAdornment: (\n                                        <InputAdornment position=\"end\">\n                                            <IconButton\n                                                color='default'\n                                                onClick={() => setShow(!show)}\n                                            >\n                                                {show ? <Visibility /> : <VisibilityOff />}\n                                            </IconButton>\n                                        </InputAdornment>\n                                    )\n                                }}\n                            />\n\n                            <Button\n                                type=\"submit\"\n                                fullWidth\n                                variant=\"contained\"\n                                color=\"primary\"\n                                className={classes.submit}\n                            >\n                                Entrar\n                            </Button>\n                            \n                        </form>\n                    </div>\n\n            </div>\n        </Container>\n    );\n}\n\nexport default SignIn\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n        backgroundColor: '#070',\n\n        '&:hover': {\n            background: '#005200'\n        },\n    },\n    logo: {\n        width: 300,\n        marginTop: '20%'\n    },\n    title: {\n        flexGrow: 1,\n        textTransform: 'capitalize',\n        marginTop: '10%',\n    },\n    link: {\n        fontSize: 20\n    }\n}));"]},"metadata":{},"sourceType":"module"}